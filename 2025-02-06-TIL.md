# GIT TIL 48 - ì¥ê³  ë¯¸ë‹ˆ í”„ë¡œì íŠ¸ ì‹¤ìŠµ 2ì¼ ì°¨

ì–´ì œì— ì´ì–´ì„œ ì˜¤ëŠ˜ì€, ìƒì„±í•œ í”„ë¡œì íŠ¸ì— ìˆë˜ ì•±(ë§ˆì¼“,ê³ ê°,ìƒí’ˆ)ì— ê°ê° modelì„ ë§Œë“¤ì–´ ë³´ì•˜ë‹¤.

<br>

> ë§ˆì´ê·¸ë ˆì´ì…˜ì—ì„œ ë§ì´ ë§‰í˜”ëŠ”ë°, ìˆ˜ì •í•˜ê³  ë³´ì™„í•  ë¶€ë¶„ ìœ„ì£¼ë¡œ ë©”ëª¨í•˜ì—¬ ì •ë¦¬í•´ ë†“ìŒ.

<br><br>

## 1. ìƒì„±í•  ëª¨ë¸ ê¸°ë°˜ ì œì‘

<br>

1-1. ë§ˆì¼“ appì˜ ëª¨ë¸ì€ ë‹¤ìŒê³¼ ê°™ì´ ë§Œë“¤ì–´ì£¼ì„¸ìš”
- ì§€ì  ID (ID ì˜ˆì‹œ: SL2501(ì„œìš¸ì—ìˆëŠ”25ë…„ë„ì— ë“±ë¡í•œ 01ë²ˆì§¸ ì§€ì ì´ë¼ëŠ” ì˜ë¯¸), PKë¡œ ë“±ë¡ )
- ì§€ì  (ì§€ì—­ì´ ì–´ë”˜ì§€)
- ì§€ì ì¥ (ì‚¬ëŒ ì´ë¦„)
- ì§€ì  ë²ˆí˜¸ (ì˜ˆì‹œ: 1234-5678)
- ê°œì  ë‚ ì§œ (ì–¸ì œ ê°œì í–ˆëŠ”ì§€)
- ì´ ì§ì› ìˆ˜

<br>

1-2. ê³ ê° appì˜ ëª¨ë¸ì€ ë‹¤ìŒê³¼ ê°™ì´ ë§Œë“¤ì–´ì£¼ì„¸ìš”
- ê³ ê°ID (ID ì˜ˆì‹œ: asjlg6453 ê·¸ëƒ¥ ê³ ê° ë§ˆìŒëŒ€ë¡œ, PKë¡œ ë“±ë¡)
- ê³ ê°ëª… (ì‚¬ëŒì´ë¦„)
- ë“±ë¡ì¼ (ì–¸ì œ ë“±ë¡í–ˆëŠ”ì§€)
- ê³ ê°ë²ˆí˜¸ (ì˜ˆì‹œ: 010-1234-5678)

<br>

1-3. ìƒí’ˆ appì˜ ëª¨ë¸ì€ ë‹¤ìŒê³¼ ê°™ì´ ë§Œë“¤ì–´ì£¼ì„¸ìš”
- ìƒí’ˆ ID (ID ì˜ˆì‹œ: K001(ë¶€ì—Œìš© 001ë²ˆì§¸ ê°€êµ¬ë¼ëŠ” ì˜ë¯¸), PKë¡œ ë“±ë¡)
- ìƒí’ˆëª… (ì˜ˆì‹œ: ê½ƒë¬´ëŠ¬ ì‹íƒ)
- ê°€ê²© (int)
- ì¬ê³  (int)
- ì§€ì ID (FKë¡œ ë“±ë¡) # FKì™¸ë˜í‚¤ê°€ ìˆë‹¤ëŠ” ë§, ì¦‰, ê´€ê³„ê°€ ìˆë‹¤ëŠ” ë§.

<br>

## 2. settings.py ì„¤ì •

- ì¶”ê°€í•  appì„ ë¨¼ì € ë“±ë¡í•´ì£¼ì.

```python
# settings.py

# 33.line
INSTALLED_APPS = [ 
    ...ìƒëµ...
    # add_my_app
    'test_market', # ë§ˆì¼“ ì•±
    'customers', # ê³ ê° ì•±
    'products', # ìƒí’ˆ ì•±
]
```

<br><br>



## 3. ëª¨ë¸ ìƒì„±

<br>

3-1. ë§ˆì¼“(test_market) appì˜ ëª¨ë¸ ìƒì„±



    1. ë¨¼ì € ëª¨ë¸ì„ ìƒì„±í•˜ê¸° ìœ„í•´ modelsë¥¼ ì„í¬íŠ¸í•´ì¤€ë‹¤.
    2. ìœ„ì— 1-1ì—ì„œ ë§Œë“  ëª¨ë¸ì„ ì‘ì„±í•´ì¤€ë‹¤.
    3. ìƒì„±í•œ ëª¨ë¸ ì €ì¥ í›„, ë§ˆì´ê·¸ë ˆì´ì…˜ í•´ì¤€ë‹¤.


```python
from django.db import models

# í…ŒìŠ¤íŠ¸ ë§ˆì¼“
class TestMarket(models.Model):
    test_market_id = models.CharField(max_length= 50, primary_key= True)
    test_market_location = models.CharField(max_length= 50)
    test_market_manager = models.CharField(max_length= 50)
    test_market_tell = models.CharField(max_length= 50)
    test_market_open = models.DateField(auto_now_add= True) 
    test_market_staff = models.IntegerField()
```
![Image](https://github.com/user-attachments/assets/337968b3-78cd-4559-a879-3dbf106e4630)

<details>
<summary> test_market ì½”ë“œ ì„¤ëª…</summary>

```
primary_key= True : ê¸°ë³¸ í‚¤ ì„¤ì •(ì§€ì •í•˜ì—¬ ìœ ì¼ì„± ë³´ì¥,ì¤‘ë³µ ë°©ì§€)

CharField: ë¬¸ìì—´ì„ ì €ì¥
max_length : ë¬¸ìì—´ì˜ ìµœëŒ€ ê¸¸ì´

IntegerField: ì •ìˆ˜ë¥¼ ì €ì¥

DateField : ë‚ ì§œ í•„ë“œ
auto_now_add= True : ëª¨ë¸ì´ ìƒì„±ë  ë•Œ ìë™ìœ¼ë¡œ í˜„ì¬ ë‚ ì§œì™€ ì‹œê°„ì„ ì„¤ì •
```
</details>

<br>

ìƒì„±í•œ ëª¨ë¸ì„ ì €ì¥í•´ì£¼ì.

<br><br>

### â›”ì ê¹! ëª¨ë¸ ìƒì„± í›„ ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ê¼­ ì ìš©í•˜ì.

```bash
# í„°ë¯¸ë„ ì…ë ¥
python manage.py makemigrations # ë³€ê²½ì‚¬í•­ ê°ì§€, ê¸°ë¡
python manage.py migrate # ê¸°ë¡ ëœ ë‚´ìš©ì„ ì½ê³  dbì— ì €ì¥
```

> ê·¸ëŸ°ë° test_market ì•±ì„ ë³´ë©´ migrations í´ë”ê°€ ì—†ë‹¤! <br>
![Image](https://github.com/user-attachments/assets/36cb7030-d1b6-4aee-b4e3-8eabf3bc1c03)

> ê·¸ë˜ì„œ ì§ì ‘ í´ë”ë¥¼ ì§€ì •í•´ ë§ˆì´ê·¸ë ˆì´ì…˜ì„ í•´ì£¼ì.
> ```bash
> # í„°ë¯¸ë„ ì…ë ¥
> python manage.py makemigrations test_market 
> python manage.py migrate # ë§ˆì´ê·¸ë ˆì´íŠ¸ê¹Œì§€ ì ìš©
> ```

<br>

### â›”ê·¸ëŸ°ë° ë§Œì•½ ì•„ë˜ì™€ ê°™ì€ ë¬¸êµ¬ê°€ ëœ¬ë‹¤ë©´?

![Image](https://github.com/user-attachments/assets/647c242b-cef9-4392-afc2-f0539a546cb7)

### ***ìœ„ì— í•­ëª© 2.settings.pyë¥¼ ë‹¤ì‹œ ë³´ê³  ì˜¤ë„ë¡ğŸ˜¡***

<br>

#### ì•± ë“±ë¡ì´ ë¬´ì‚¬íˆ ë˜ì—ˆë‹¤ë©´?

- ê·¸ëŸ¼ ì´ì œ ë§ˆì´ê·¸ë ˆì´ì…˜ í´ë”ê°€ ìƒê¸´ë‹¤.
  ![Image](https://github.com/user-attachments/assets/deebdac9-2da6-4433-b3b7-b205ca5bc96e)


<br><br>



3-2. ê³ ê°(test_customer) appì˜ ëª¨ë¸ ìƒì„±




<br>

```python
from django.db import models

class Customer(models.Model):
    customer_id = models.CharField(max_length=50, primary_key= True)
    customer_name = models.CharField(max_length=50)
    customer_create_at = models.DateField(auto_now_add= True)
    customer_tell = models.CharField(max_length=50)

```
![Image](https://github.com/user-attachments/assets/be28c03a-d5b3-4a23-8553-fdcf58f58fb9)

<details>
<summary> customer ì½”ë“œ ì„¤ëª…</summary>


```
primary_key= True : ê¸°ë³¸ í‚¤ ì„¤ì •(ì§€ì •í•˜ì—¬ ìœ ì¼ì„± ë³´ì¥,ì¤‘ë³µ ë°©ì§€)

CharField: ë¬¸ìì—´ì„ ì €ì¥
max_length : ë¬¸ìì—´ì˜ ìµœëŒ€ ê¸¸ì´

IntegerField: ì •ìˆ˜ë¥¼ ì €ì¥

DateField : ë‚ ì§œ í•„ë“œ
auto_now_add= True : ëª¨ë¸ì´ ìƒì„±ë  ë•Œ ìë™ìœ¼ë¡œ í˜„ì¬ ë‚ ì§œì™€ ì‹œê°„ì„ ì„¤ì •
```
</details>

<br>

ì €ì¥ í›„, ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš© ìŠì§€ ë§ì !

<br>

3-3. ìƒí’ˆ(test_product) appì˜ ëª¨ë¸ ìƒì„±

<br>

```python
from django.db import models
from test_market.models import TestMarket
# test_market ì•±ì˜ ëª¨ë¸ì„ ì„í¬íŠ¸í•´ì¤€ë‹¤.

class Product(models.Model):
    product_id = models.CharField(max_length=50)
    product_name = models.CharField(max_length=50)
    product_price = models.IntegerField()
    product_stock = models.IntegerField()
    # ì™¸ë˜í‚¤ ë³€ìˆ˜ëª…ì„ ë˜‘ê°™ì´ ì§€ì–´ì¤€ë‹¤(test_market_id)
    test_market_id = models.ForeignKey(TestMarket, on_delete=models.CASCADE, related_name= 'product')
    # on_delete=models.CASCADE : 
    # ì‚­ì œ í–ˆì„ ë•Œ = ì°¸ì¡°í•˜ëŠ” ëª¨ë¸ë„ ì‚­ì œ
    # (ë¶€ëª¨ ì‚­ì œì‹œ ìì‹ë„ ì‚­ì œ, í•˜ìœ„í…Œì´ë¸” ì‚­ì œ)

    # related_name= 'product' : ì—­ë°©í–¥ ì°¸ì¡° ì´ë¦„



```
![Image](https://github.com/user-attachments/assets/7e2473a7-07b0-49e7-a6c7-5fe24eaea83e)

<details>
<summary> customer ì½”ë“œ ì„¤ëª…</summary>


```
primary_key= True : ê¸°ë³¸ í‚¤ ì„¤ì •(ì§€ì •í•˜ì—¬ ìœ ì¼ì„± ë³´ì¥,ì¤‘ë³µ ë°©ì§€)

CharField: ë¬¸ìì—´ì„ ì €ì¥
max_length : ë¬¸ìì—´ì˜ ìµœëŒ€ ê¸¸ì´

IntegerField: ì •ìˆ˜ë¥¼ ì €ì¥

DateField : ë‚ ì§œ í•„ë“œ
auto_now_add= True : ëª¨ë¸ì´ ìƒì„±ë  ë•Œ ìë™ìœ¼ë¡œ í˜„ì¬ ë‚ ì§œì™€ ì‹œê°„ì„ ì„¤ì •

ForeignKey : ì™¸ë˜í‚¤ ì„¤ì •
on_delete= models.CASCADE : ì‚­ì œ í–ˆì„ ë•Œ= ì°¸ì¡°í•˜ëŠ” ëª¨ë¸ë„ ì‚­ì œ(ë¶€ëª¨ í…Œì´ë¸” ì‚­ì œì‹œ ìì‹ë„ ì‚­ì œ)
related_name= 'product' : ì—­ë°©í–¥ ì°¸ì¡° ì´ë¦„
```
</details>

<br>

ì €ì¥ í›„, ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš© ìŠì§€ ë§ì !

<br><br>

## 4. ë°ì´í„°ë² ì´ìŠ¤ í™•ì¸

<br>

- db.sqlite3 íŒŒì¼ì„ í™•ì¸í•´ë³´ì.

![Image](https://github.com/user-attachments/assets/a74df342-c766-4a3d-ae5d-9b437ed83d89)

ì˜ ìƒì„± ë˜ì—ˆë‹¤! <br>
í˜¹ì‹œ ì—†ëŠ” í…Œì´ë¸”ì´ ìˆê±°ë‚˜. í…Œì´ë¸” ëª…ì„ ë°”ê¾¸ê³  ì‹¶ìœ¼ë©´ <br>
db.sqlite3 íŒŒì¼ì„ ì‚­ì œí•˜ê³  ë‹¤ì‹œ ë§ˆì´ê·¸ë ˆì´ì…˜ í•´ì„œ ìƒì„± ì‹œí‚¤ë©´ ë¨. 


ê¹ƒ í—ˆë¸Œì— ì˜¬ë¦¬ê³  ë.

<br>

ë‚´ì¼ í•™ìŠµë°˜ ë‚´ìš©ë„ ë‚´ì¼ TILë¡œ ì •ë¦¬í•´ì•¼ê² ë‹¤.

<br>

---

<br>

