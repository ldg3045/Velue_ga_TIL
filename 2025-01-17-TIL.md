# GIT TIL 28

### Django Template System

<br><br>


## 1. Template란?
- Django에서의 Template은 데이터를 보여주는 로직을 작성하는 부분
- 기본 경로 'app_name' / `templates` / '파일명'.html

<br>

Django는 setting.py의 TEMPLATES의 APP_DIRS로 작동함
![Image](https://github.com/user-attachments/assets/7220753f-0ac8-4297-abcb-6a99ad1393e3)

## 2. Django Template Language (DTL)

>DTL 문법

2-1 변수(Variable)

```html
{{ variable }}
```
 - view의 context로 넘긴 데이터를 접근할 수 있음
 - . 을 사용하여 변수의 속성값에 접근 가능
 - render() 의 세번째 인자인 context에 dict 형태로 넘겨진 데이터 중 <br>
   key 값이 template에서 사용 가능한 변수가 됨

<br>

2-2 필터(Filter)
```html
{{ variable|filter }}
```
 - 변수에 어떠한 작업을 추가적으로 더해 수정하고 싶을때 사용
 - 약 60개의 built-in template filter가 제공 [[공식문서 링크](https://docs.djangoproject.com/en/4.2/ref/templates/builtins/#built-in-filter-reference)]
  
<br>

2-3 태그(Tag)
```html
{% tag %}
{% endtag %}
```
 - 반복문 또는 논리, 조건문을 수행하여 제어 흐름을 만들거나 특수한 기능을 수행
 - 일부는 시작 태그와 종료 태그가 있음
```html
{% tag %}
{% endtag %}
```

<br>

2-4 주석(Comment)
```html
{# 한 줄 주석 #}

{% comment %}
 여러줄
 주석
{% endcomment %}
```

<br>



## 3. Template Inheritance (템플릿 인헬리티)
>  Django는 템플릿 상속을 지원함.
- 코드의 재사용성에 초점이 맞춰져 있으며, <br>
  상위 템플릿에 공통이 될 부분을 정의하고 <br>
  하위 템플릿에서 달라질 부분을 블록(Block)으로 만드는 스켈레톤(Skeleton) 형태

```html
{% extends 'base.html' %} <!-- 상속받을 템플릿 -->

{% block content %} <!-- 시작을 정의할 부분 (하위 템플릿) -->

{% endblock %} <!-- 끝을 정의할 부분 (하위 템플릿) -->
```

<br>

 - `base.html` 생성
    - 공통적으로 적용될 상위 템플릿
![Image](https://github.com/user-attachments/assets/37e91891-0cff-4c8a-92f7-8468a7bd32a1)

<br>

- 하위 템플릿에서 상속
    - `extends` 태그를 이용해서 상속할 상위 템플릿 지정
    - `block` 태그를 이용해서 달라진 부분만 명시
![Image](https://github.com/user-attachments/assets/37e91891-0cff-4c8a-92f7-8468a7bd32a1)

<br>

### ⛔ 주의 ⛔
    주석 안에 있어도 <br>
    `{% comment %} {% endcomment %}`는 인식함.



<br>

## 4. 커스텀 템플릿 경로 추가하기
- Django가 템플릿을 참조하는 위치는 settings.py에서 결정됨
![Image](https://github.com/user-attachments/assets/ce146644-660a-4048-a177-31948e937835)

- `DIRS`에 Django가 추가적으로 템플릿을 참조할 위치를 추가할 수 있음


<br>

>실전 활용
- my_first_pjt 최상단 경로에 templates 디렉토리 생성 <br>
  (이름은 달라져도 되지만 templates 권장)
![Image](https://github.com/user-attachments/assets/b30eb5fb-4800-4255-8a13-890c7b805fb8)

<br>

- 위 폴더 아래에 base.html 을 두자
![Image](https://github.com/user-attachments/assets/5ba28b5b-1846-43a2-8117-a2cb44e0cebf)

<br>

- 이제 Django가 우리가 새로 생성한 templates 에서도 <br>
  템플릿을 참조할 수 있게 적어주면 된다
![Image](https://github.com/user-attachments/assets/faddd0da-02c3-43ee-b04f-ef5cb5e0eb64)

- `BASE_DIR` ?
    - Django가 친절하게 ‘너네 이 위치 많이 참조하더라?’ 싶어서 적어둔 프로젝트 최상단 경로값


